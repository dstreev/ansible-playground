# HDP Environment 01 Servers
all:
  vars:
    ambari_version:                      2.7.0.0
    ambari_major_version:                2.7
    ambari_repo:                         http://repo.hwx/repo/ambari/centos7/2.x/updates/2.7.0.0/
    hdp_version:                         3.0.0.0
    env_set:                             full
    image_tag:                           108
    env_instance:                        '16'
    cluster_name:                        DK16
    mysql_backup_dir:                    /hadoop/mysql_backups
    db_type:                             mysql
    db_host:                             db.hwx
    db_user:                             root
    db_password:                         hortonworks
    db_ambari_name:                      ambari_16
    db_hive_name:                        hive_16
    db_oozie_name:                       oozie_16
    db_ranger_name:                      ranger_16
    db_ranger_kms_name:                  rangerkms_16
    db_druid_name:                       druid_16
    db_superset_name:                    superset_16
    db_registry_name:                    registry_16
    db_streamline_name:                  streamline_16

  children:
    hdp:
      vars:
        ambari_server:                   ambari-16.hwx
        zookeeper_server:                os04-16.hwx
        repo_server:                     repo.hwx

      hosts:
        OS06-MASTER-5:
          ansible_host:                  dos06
          ansible_port:                  22016
          ansible_user:                  root
        OS07-MASTER-6:
          ansible_host:                  dos07
          ansible_port:                  22016
          ansible_user:                  root
        OS10-WORKER-01:
          ansible_host:                  dos10
          ansible_port:                  22016
          ansible_user:                  root
        OS11-WORKER-02:
          ansible_host:                  dos11
          ansible_port:                  22016
          ansible_user:                  root
        OS12-WORKER-03:
          ansible_host:                  dos12
          ansible_port:                  22016
          ansible_user:                  root
        OS13-WORKER-04:
          ansible_host:                  dos13
          ansible_port:                  22016
          ansible_user:                  root
        OS14-WORKER-05:
          ansible_host:                  dos14
          ansible_port:                  22016
          ansible_user:                  root
        OS15-WORKER-06:
          ansible_host:                  dos15
          ansible_port:                  22016
          ansible_user:                  root
        OS16-WORKER-07:
          ansible_host:                  dos16
          ansible_port:                  22016
          ansible_user:                  root
        OS17-WORKER-08:
          ansible_host:                  dos17
          ansible_port:                  22016
          ansible_user:                  root
        OS18-WORKER-09:
          ansible_host:                  dos18
          ansible_port:                  22016
          ansible_user:                  root
        OS19-WORKER-10:
          ansible_host:                  dos19
          ansible_port:                  22016
          ansible_user:                  root
        # OS20-WORKER-11:
        #   ansible_host:                dos20
        #   ansible_port:                22016
        #   ansible_user:                root

      children:
        edge:
          hosts:
            OS02-MASTER-1:
              ansible_host:              dos02
              ansible_port:              22016
              ansible_user:              root
            OS03-MASTER-2:
              ansible_host:              dos03
              ansible_port:              22016
              ansible_user:              root
            OS04-MASTER-3:
              ansible_host:              dos04
              ansible_port:              22016
              ansible_user:              root
          children:
            sdlc:
              vars:
                smoke_tgs_size:          1Gb
                smoke_tgs_mappers:       4
                smoke_tgs_reducers:      4
                tpcds_user:              dstreev
                tpcds_size:              250
                ranger_url_base:         http://os07-16.hwx:6080
                ranger_admin_user:       admin
                ranger_admin_password:   hortonworks44
                user:                    dstreev
                hive_superuser:          hive
                hive_superuser_password: hive
                # hadoop_cli_bin_link:     https://github.com/dstreev/hadoop-cli/releases/download/untagged-9efb4983399ed222f2a8/hadoop-cli-2.0.0-SNAPSHOT-3.0.tar.gz
                # hadoop_cli_version:      3.0
              hosts:
                OS05-MASTER-4:
                  ansible_host:          dos05
                  ansible_port:          22016
                  ansible_user:          root

        ambari:
          vars:
            ambari_url_base:             http://ambari-16.hwx:8080
            ambari_admin_user :          admin
            ambari_admin_password:       admin
            hdp_stack:                   HDP
            hdp_stack_version:           3.0
            vdf_file:                    
            hdp_repo_id:                 HDP-3.0
            hdp_utils_repo_id:           HDP-UTILS-1.1.0.22
            hdp_gpl_repo_id:             HDP-3.0-GPL
            blueprint:                   NOT_SET
            os_type:                     redhat7

            hdp_repo_url:                http://repo.home/repo/HDP/centos7/3.x/updates/3.0.0.0
            hdp_utils_repo_url:          http://repo.home/repo/HDP-UTILS-1.1.0.22/repos/centos7
            hdp_gpl_repo_url:            http://repo.home/repo/HDP-GPL/centos7/3.x/updates/3.0.0.0

            ldap_primary_host:           10.0.1.11
            ldap_primary_port:           389
            ldap_secondary_host:         None
            ldap_secondary_port:         389

            ldap_ssl:                    false
            ldap_user_class:             posixaccount
            ldap_user_attr:              uid
            ldap_group_class:            posixgroup
            ldap_group_attr:             cn
            ldap_member_attr:            member
            ldap_dn:                     cn
            ldap_base_dn:                cn=accounts,dc=streever,dc=local
            ldap_manager_dn:             uid=admin,cn=users,cn=accounts,dc=streever,dc=local
            ldap_manager_password:       hortonworks
            ldap_referral:               ignore
            ldap_bind_anonym:            false
          hosts:
            OS01-AMBARI:
              ansible_host:              dos01
              ansible_port:              22016
              ansible_user:              root