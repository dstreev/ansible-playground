# HDP Environment 01 Servers
all:
  vars:
    ambari_version:                             AMBARI_VERSION
    hdp_version:                                HDP_VERSION
    image_tag:                                  IMAGE_TAG
    env_instance:                               'ENV_INSTANCE'
    cluster_name:                               DKENV_INSTANCE
    db_type:                                    mysql
    db_host:                                    db.home
    db_user:                                    root
    db_password:                                hortonworks
    db_ambari_name:                             ambari_ENV_INSTANCE
    db_hive_name:                               hive_ENV_INSTANCE
    db_oozie_name:                              oozie_ENV_INSTANCE
    db_ranger_name:                             ranger_ENV_INSTANCE
    db_ranger_kms_name:                         rangerkms_ENV_INSTANCE
    db_druid_name:                              druid_ENV_INSTANCE
    db_superset_name:                           superset_ENV_INSTANCE
    db_registry_name:                           registry_ENV_INSTANCE

  children:
    hdp:
      vars:
        ambari_server:                          hdp-os01-ENV_INSTANCE.home
        zookeeper_server:                       hdp-os04-ENV_INSTANCE.home
        repo_server:                            repo.home

      hosts:
        os13.core:
          ansible_host:                         dos13
          ansible_port:                         220ENV_INSTANCE
          ansible_user:                         root
          # ansible_ssh_private_key_file:         /Users/dstreev/.ssh/id_rsa_docker
        os14.core:
          ansible_host:                         dos14
          ansible_port:                         220ENV_INSTANCE
          ansible_user:                         root
          # ansible_ssh_private_key_file:         /Users/dstreev/.ssh/id_rsa_docker
        os15.core:
          ansible_host:                         dos15
          ansible_port:                         220ENV_INSTANCE
          ansible_user:                         root
          # ansible_ssh_private_key_file:         /Users/dstreev/.ssh/id_rsa_docker

      children:
        edge:
          hosts:
            edge1.core:
              ansible_host:                     dos04
              ansible_port:                     220ENV_INSTANCE
              ansible_user:                     root
              # ansible_ssh_private_key_file:     /Users/dstreev/.ssh/id_rsa_docker
          children:
            sdlc:
              vars:
                smoke_tgs_size:                 1Gb
                smoke_tgs_mappers:              4
                smoke_tgs_reducers:             4
                tpcds_size:                     50
                ranger_url_base:                NEEDS_TO_BE_SET
                ranger_admin_user:              admin
                ranger_admin_password:          admin
              hosts:
                sdlc.core:
                  ansible_host:                 dos05
                  ansible_port:                 220ENV_INSTANCE
                  ansible_user:                 root
                  # ansible_ssh_private_key_file: /Users/dstreev/.ssh/id_rsa_docker

        ambari:
          hosts:
            ambari.core:
              ansible_host:                     dos01
              ansible_port:                     220ENV_INSTANCE
              ansible_user:                     root
              # ansible_ssh_private_key_file:     /Users/dstreev/.ssh/id_rsa_docker
